
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Yale-NeRD: Network centric Resource Disaggregation">
      
      
      <link rel="icon" href="../theme/assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.4">
    
    
      
        <title>Confluo Type System - MIND</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.db9e7362.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7CInconsolata&display=fallback">
        <style>:root{--md-text-font-family:"Lato";--md-code-font-family:"Inconsolata"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#confluo-type-system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MIND" class="md-header__button md-logo" aria-label="MIND" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MIND
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Confluo Type System
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Yale-NeRD/mind/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Yale-NeRD/mind
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MIND" class="md-nav__button md-logo" aria-label="MIND" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    MIND
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Yale-NeRD/mind/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Yale-NeRD/mind
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../research/" class="md-nav__link">
        Research Papers
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          People
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="People" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          People
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        MIND Team
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#registering-types" class="md-nav__link">
    Registering Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-a-schema" class="md-nav__link">
    Building a Schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-records" class="md-nav__link">
    Adding Records
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performing-filter-operations" class="md-nav__link">
    Performing Filter Operations
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Yale-NeRD/mind/edit/master/docs/type_system.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="confluo-type-system">Confluo Type System<a class="headerlink" href="#confluo-type-system" title="Permanent link">&para;</a></h1>
<p>Confluo uses a strictly typed system. While primitive data types like
<code>BOOL</code>, <code>CHAR</code>, <code>SHORT</code>, <code>INT</code>, <code>LONG</code>, <code>FLOAT</code>, <code>DOUBLE</code> and <code>STRING</code>
are supported by default in Confluo, it is possible to add custom 
user-defined data types. This requires defining a few operations that would
allow operations like applying filters and triggers on attributes of
the custom data type.</p>
<h2 id="registering-types">Registering Types<a class="headerlink" href="#registering-types" title="Permanent link">&para;</a></h2>
<p>To create a new type, we need to define the following properties so that
native operations can be supported; these properties are summarised in the
<a href="../libconfluo/confluo/types/type_properties.h"><code>type_properties</code></a> 
struct:</p>
<ul>
<li><code>std::string name</code> - A unique name for the type</li>
<li><code>size_t size</code> -  The size of underlying representation for fixed sized types. This should be set to zero for 
dynamically sized types (e.g., see definintion for <a href="../libconfluo/confluo/types/type_properties.h"><code>STRING</code></a> type).</li>
<li><code>void* min</code> - This is a pointer to the minimum value that the type
can hold. See <a href="../libconfluo/confluo/types/type_properties.h">type_properties.h</a> 
to see examples of <code>min</code> assigned to primitive types.</li>
<li><code>void* max</code> - This is a pointer to the maximum value that the type
can hold. See <a href="../libconfluo/confluo/types/type_properties.h">type_properties.h</a> 
to see examples of <code>max</code> assigned to primitive types.</li>
<li><code>void* one</code> - This is a pointer to the step value with which the type
can be incremented. See <a href="../libconfluo/confluo/types/type_properties.h">type_properties.h</a> 
to see examples of <code>one</code> assigned to primitive types.</li>
<li><code>void* zero</code> - This is a pointer to the zero value for the type. See 
<a href="../libconfluo/confluo/types/type_properties.h">type_properties.h</a> to see 
examples of <code>zero</code> assigned to primitive types.</li>
<li><code>bool is_numeric</code> - This indicates whether the type is numeric or not; 
numeric types typically support most arithmetic operators; see 
[arithmetic_ops.h][../libconfluo/confluo/types/arithmetic_ops.h] for examples.</li>
<li><code>relational_ops_t relational_ops</code> - Stores a list of relational operator functions
for the given type, so that operations like <code>filter</code> can work. See 
<a href="../libconfluo/confluo/types/relational_ops.h">rel_ops.h</a> for examples of
what relational functions can be defined.</li>
<li><code>binary_ops_t binary_ops</code> - Stores a list of binary arithmetic operator functions
for the given type, so that operations like filter can accurately be applied
to the type. Check <a href="../libconfluo/confluo/types/arithmetic_ops.h">arithmetic_ops.h</a>
for examples of binary operator functions that can be defined.</li>
<li><code>unary_ops_t unary_ops</code> - Stores a list of unary arithmetic operator functions
for the given type, so that operations like filter can work for the given
type. Check <a href="../libconfluo/confluo/types/arithmetic_ops.h">arithmetic_ops.h</a> for
examples of unary function operators that can be defined.</li>
<li><code>key_op_t key_transform_op</code> - Stores the key-transform function. This function 
is important for looking up attributes of the type in an index; see 
<a href="../libconfluo/confluo/types/key_ops.h">key_ops.h</a> for example
definitions of key_transform.</li>
<li><code>parse_op_t parse_op</code> - Parses data instance from a string representation of this type. See 
<a href="../libconfluo/confluo/types/string_ops.h">string_ops.h</a> for examples.</li>
<li><code>to_string_op_t to_stirng_op</code> - Converts data instance of the type to its string representation. See 
<a href="../libconfluo/confluo/types/string_ops.h">string_ops.h</a> for examples.</li>
<li><code>serialize_op_t serialize_op</code> - Serializes the underlying data representation of the type into raw bytes;
see <a href="../libconfluo/confluo/types/serde_ops.h">serde_ops.h</a> for examples.</li>
<li><code>deserialize_op_t deserialize_op</code> - Reads the raw byte representation of the type and parses it to data;
see <a href="../libconfluo/confluo/types/serde_ops.h">serde_ops.h</a> for examples.</li>
</ul>
<p>Example declarations of user-defined types can be found at
<a href="../libconfluo/test/types/ip_address.h">ip_address.h</a> and 
<a href="../libconfluo/test/size_type.h">size_type.h</a>.</p>
<p>Once the properties for custom type is defined in the <code>type_properties</code> struct, 
it needs to be registered with Confluo's <a href="../libconfluo/confluo/types/type_manager.h">type manager</a> 
via the <code>type_manager::register_type</code> interface. We can register a type as 
follows:
<div class="highlight"><pre><span></span><code><span class="n">type_properties</span><span class="w"> </span><span class="nf">test_properties</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">limits</span><span class="o">::</span><span class="n">int_min</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="o">&amp;</span><span class="n">limits</span><span class="o">::</span><span class="n">int_max</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">limits</span><span class="o">::</span><span class="n">int_one</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                </span><span class="o">&amp;</span><span class="n">limits</span><span class="o">::</span><span class="n">int_one</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">limits</span><span class="o">::</span><span class="n">int_zero</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="n">get_relops</span><span class="p">(),</span><span class="w"> </span><span class="n">get_unaryops</span><span class="p">(),</span><span class="w"> </span>
<span class="w">                                </span><span class="n">get_binaryops</span><span class="p">(),</span><span class="w"></span>
<span class="w">                                </span><span class="n">get_keyops</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">test_type</span><span class="o">::</span><span class="n">parse_test</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="o">&amp;</span><span class="n">test_type</span><span class="o">::</span><span class="n">test_to_string</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="o">&amp;</span><span class="n">confluo</span><span class="o">::</span><span class="n">serialize</span><span class="o">&lt;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="o">&amp;</span><span class="n">confluo</span><span class="o">::</span><span class="n">deserialize</span><span class="o">&lt;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">);</span><span class="w"></span>
<span class="n">type_manager</span><span class="o">::</span><span class="n">register_type</span><span class="p">(</span><span class="n">test_properties</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Once registered, a useful symbolic
reference to the data type, wrapped in a <code>data_type</code> object, can be obtained via
the <code>type_manager::get_type</code> interface.</p>
<p>With this object, it is possible to add new columns of this type in any 
Atomic MultiLog. From here on out, appending records to the
Atomic MultiLog, along with operations like filters and triggers, will work out
of the box.</p>
<h2 id="building-a-schema">Building a Schema<a class="headerlink" href="#building-a-schema" title="Permanent link">&para;</a></h2>
<p>We can create columns of a custom user-defined type for an Atomic MultiLog
as follows:
<div class="highlight"><pre><span></span><code><span class="n">data_type</span><span class="w"> </span><span class="n">test_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">type_manager</span><span class="o">::</span><span class="n">get_type</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">schema_builder</span><span class="w"> </span><span class="n">builder</span><span class="p">;</span><span class="w"></span>
<span class="n">builder</span><span class="p">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">test_type</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">column_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">get_columns</span><span class="p">();</span><span class="w"></span>

<span class="n">task_pool</span><span class="w"> </span><span class="n">MGMT_POOL</span><span class="p">;</span><span class="w"></span>
<span class="n">atomic_multilog</span><span class="w"> </span><span class="nf">dtable</span><span class="p">(</span><span class="s">&quot;table&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/tmp&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">storage</span><span class="o">::</span><span class="n">IN_MEMORY</span><span class="p">,</span><span class="w"> </span><span class="n">MGMT_POOL</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
We use the <code>type_manager::get_type</code> interface to get the <code>data_type</code> object
associated with the new user-defined type. This object can then be passed
into the <code>add_column</code> interface of the <code>schema_builder</code> along with the name
of the column. Finally, the vector of columns can be passed into the Atomic
Multilog and thus operations like filters and triggers can be performed on
data of the user-defined type.</p>
<h2 id="adding-records">Adding Records<a class="headerlink" href="#adding-records" title="Permanent link">&para;</a></h2>
<p>First create a packed struct containing all of the member data_types 
in a row of the schema. Be sure to include the timestamp as one of 
the columns. An example is as follows: 
<div class="highlight"><pre><span></span><code><span class="k">struct</span> <span class="nc">rec</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">ts</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">test_type</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
Then get a pointer to an instance of the struct, which is passed into the
<code>append</code> method of the Atomic MultiLog. The following is an exmaple:
<div class="highlight"><pre><span></span><code><span class="n">rec</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">utils</span><span class="o">::</span><span class="n">time_utils</span><span class="o">::</span><span class="n">cur_ns</span><span class="p">(),</span><span class="w"> </span><span class="n">test_type</span><span class="p">()};</span><span class="w"></span>
<span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">*&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">r</span><span class="p">);</span><span class="w"></span>
<span class="n">dtable</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
Here we initialize a record with the current timestamp and an instance of
the test type. Then we pass a pointer to that data to the append method
of the Atomic MultiLog instance.</p>
<h2 id="performing-filter-operations">Performing Filter Operations<a class="headerlink" href="#performing-filter-operations" title="Permanent link">&para;</a></h2>
<p>After adding records containing data of the user-defined type, we can 
perform filter operations to select specific records. We can do so as 
follows:
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dtable</span><span class="p">.</span><span class="n">execute_filter</span><span class="p">(</span><span class="s">&quot;a &gt; 4&quot;</span><span class="p">);</span><span class="w"> </span><span class="o">!</span><span class="n">r</span><span class="p">.</span><span class="n">empty</span><span class="p">();</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">tail</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;A value: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">head</span><span class="p">().</span><span class="n">at</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">as</span><span class="o">&lt;</span><span class="n">test_type</span><span class="o">&gt;</span><span class="p">().</span><span class="n">get_test</span><span class="p">()</span><span class="w"></span>
<span class="w">                                            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
We assume here that <code>4</code> can be parsed as a <code>test_type</code> using the 
parse_test method. The <code>execute_filter</code> function is then called with an
expression that selects records that satisfy the condition. This returns
a stream of records which can then be read and processed.</p>
<p>See <a href="../libconfluo/test/types/type_manager_test.h">type_manager_test.h</a> for
examples of building user-defined types including ip address and size types.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.1e84347e.min.js"></script>
      
    
  </body>
</html>